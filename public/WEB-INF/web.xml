<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
    "http://java.sun.com/dtd/web-app_2_3.dtd">
<web-app>
	<display-name>ROD</display-name>
	<description>EIONET ROD application</description>
	<context-param>
		<param-name>application-name</param-name>
		<param-value>webrod</param-value>
	</context-param>
	<context-param>
		<param-name>log-level</param-name>
		<param-value>9</param-value>
	</context-param>
	<context-param>
		<param-name>module-cache</param-name>
		<param-value>com.tee.xmlserver.tomcat.TCCache</param-value>
	</context-param>
	<context-param>
		<param-name>module-db_pool</param-name>
		<param-value>com.tee.xmlserver.tomcat.TCDBPool</param-value>
	</context-param>
	<context-param>
		<param-name>authenticator</param-name>
		<param-value>eionet.rod.ROUser</param-value>
	</context-param>
	<context-param>
		<param-name>login-error-page</param-name>
		<param-value>error.html</param-value>
	</context-param>
	<context-param>
		<param-name>app_cache</param-name>
		<param-value>eionet.rod.ROCache</param-value>
	</context-param>
	<servlet>
		<servlet-name>gentext</servlet-name>
		<servlet-class>eionet.rod.TxtServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>indicator</servlet-name>
		<servlet-class>eionet.rod.Indicator</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>analysis</servlet-name>
		<servlet-class>eionet.rod.Analysis</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>index</servlet-name>
		<servlet-class>eionet.rod.Index</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>viewhelp</servlet-name>
		<servlet-class>eionet.rod.ViewHelp</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>help</servlet-name>
		<servlet-class>eionet.rod.Help</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>client</servlet-name>
		<servlet-class>eionet.rod.Client</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>addclient</servlet-name>
		<servlet-class>eionet.rod.AddClient</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>csindex</servlet-name>
		<servlet-class>eionet.rod.countrysrv.servlets.Index</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>csmain</servlet-name>
		<servlet-class>eionet.rod.countrysrv.servlets.Main</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>csdeliveries</servlet-name>
		<servlet-class>eionet.rod.countrysrv.servlets.Deliveries</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>cssearch</servlet-name>
		<servlet-class>eionet.rod.countrysrv.servlets.Search</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>rpcrouter</servlet-name>
		<servlet-class>com.tee.uit.servlets.XmlRpcRouter</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>soaprouter</servlet-name>
		<servlet-class>com.tee.uit.servlets.SOAPRouter</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>login</servlet-name>
		<servlet-class>eionet.rod.LoginServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>countries_rdf</servlet-name>
		<servlet-class>eionet.rod.rdf.Countries</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>instruments_rdf</servlet-name>
		<servlet-class>eionet.rod.rdf.Instruments</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>activities_rdf</servlet-name>
		<servlet-class>eionet.rod.rdf.Activities</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>issue_activities_rss</servlet-name>
		<servlet-class>eionet.rod.rdf.IssueActivities</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>events_rss</servlet-name>
		<servlet-class>eionet.rod.rdf.Events</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>env</servlet-name>
		<servlet-class>com.tee.util.EnvServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>logout</servlet-name>
		<servlet-class>eionet.rod.LogoutServlet</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>history</servlet-name>
		<servlet-class>eionet.rod.History</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>harvester</servlet-name>
		<servlet-class>eionet.rod.Harvester</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>show</servlet-name>
		<servlet-class>eionet.rod.Show</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>source</servlet-name>
		<servlet-class>eionet.rod.Source</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>rorabrowse</servlet-name>
		<servlet-class>eionet.rod.RORABrowse</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>activity</servlet-name>
		<servlet-class>eionet.rod.Activity</servlet-class>
	</servlet>
	<servlet>
		<servlet-name>spatialhistory</servlet-name>
		<servlet-class>eionet.rod.SpatialHistory</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>gentext</servlet-name>
		<url-pattern>/text.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>indicator</servlet-name>
		<url-pattern>/indicator.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>spatialhistory</servlet-name>
		<url-pattern>/spatialhistory.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>index</servlet-name>
		<url-pattern>/index.html</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>analysis</servlet-name>
		<url-pattern>/analysis.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>activity</servlet-name>
		<url-pattern>/activity.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>viewhelp</servlet-name>
		<url-pattern>/viewhelp.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>help</servlet-name>
		<url-pattern>/help.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>client</servlet-name>
		<url-pattern>/client.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>addclient</servlet-name>
		<url-pattern>/addclient.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>csindex</servlet-name>
		<url-pattern>/deliveries.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>csmain</servlet-name>
		<url-pattern>/csmain</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>csdeliveries</servlet-name>
		<url-pattern>/csdeliveries</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>cssearch</servlet-name>
		<url-pattern>/cssearch</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>rpcrouter</servlet-name>
		<url-pattern>/rpcrouter</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>soaprouter</servlet-name>
		<url-pattern>/soaprouter</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>login</servlet-name>
		<url-pattern>/login_servlet</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>instruments_rdf</servlet-name>
		<url-pattern>/instruments</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>activities_rdf</servlet-name>
		<url-pattern>/activities</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>countries_rdf</servlet-name>
		<url-pattern>/countries</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>issue_activities_rss</servlet-name>
		<url-pattern>/activities.rss</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>events_rss</servlet-name>
		<url-pattern>/events.rss</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>env</servlet-name>
		<url-pattern>/env</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>logout</servlet-name>
		<url-pattern>/logout_servlet</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>history</servlet-name>
		<url-pattern>/history.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>harvester</servlet-name>
		<url-pattern>/harvester.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>show</servlet-name>
		<url-pattern>/show.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>source</servlet-name>
		<url-pattern>/source.jsv</url-pattern>
	</servlet-mapping>
	<servlet-mapping>
		<servlet-name>rorabrowse</servlet-name>
		<url-pattern>/rorabrowse.jsv</url-pattern>
	</servlet-mapping>
	<!-- the application server might allow directory listing.
       The welcome-files are used to overcome workings of such feature 
  -->
	<welcome-file-list>
		<welcome-file>index.html</welcome-file>
	</welcome-file-list>
	<resource-ref>
		<description>ROD DB</description>
		<res-ref-name>jdbc/webrod</res-ref-name>
		<res-type>javax.sql.DataSource</res-type>
		<res-auth>Container</res-auth>
	</resource-ref>
	<security-constraint>
		<web-resource-collection>
			<web-resource-name>
            Restricted Area
         </web-resource-name>
			<url-pattern>/app/*</url-pattern>
		</web-resource-collection>
	</security-constraint>

  <!-- force the entire application to security constraint CONFIDENTIAL -->
  <!-- as a result the non-SSL connector will redirect using the redirectPort
       value to the SSL connector -->
  <!-- first match wins -->
  <!-- transport-guarantee can be NONE, INTEGRAL, CONFIDENTIAL -->
  <!-- define SSL security> 
  <security-constraint>
    <web-resource-collection>
      <web-resource-name>XslXmlFiles</web-resource-name>
      <description>app files</description>
      <url-pattern>/app/*</url-pattern>
      <url-pattern>/images/*</url-pattern>
      <http-method>GET</http-method>
      <http-method>POST</http-method>
    </web-resource-collection>
    <user-data-constraint>
      <transport-guarantee>NONE</transport-guarantee>
    </user-data-constraint>
  </security-constraint>
  <security-constraint>
    <web-resource-collection>
      <web-resource-name>Entire Application</web-resource-name>
      <url-pattern>/*</url-pattern>
    </web-resource-collection>
    <user-data-constraint>
      <transport-guarantee>CONFIDENTIAL</transport-guarantee>
    </user-data-constraint>
  </security-constraint>
  <!end def SSL security -->
</web-app>
